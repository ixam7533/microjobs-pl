(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{1173:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/reset-password",function(){return t(9378)}])},9378:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ResetPassword}});var a=t(5893),r=t(7294),n=t(1163),i=t(1372),o=t(4451),u=t.n(o);function ResetPassword(){let e=(0,n.useRouter)(),[s,t]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[h,m]=(0,r.useState)(null),[p,_]=(0,r.useState)(""),[w,x]=(0,r.useState)("");(0,r.useEffect)(()=>{e.query.token&&e.query.email&&(_(e.query.token),x(e.query.email))},[e.query]);let handleSubmit=async t=>{if(t.preventDefault(),s!==o){m({type:"error",text:"Hasła nie są identyczne"});return}if(s.length<6){m({type:"error",text:"Hasło musi mieć co najmniej 6 znak\xf3w"});return}d(!0),m(null);try{await new Promise(e=>setTimeout(e,1e3)),m({type:"success",text:"Hasło zostało zresetowane pomyślnie"}),setTimeout(()=>{e.push("/login")},2e3)}catch(e){m({type:"error",text:"Wystąpił błąd podczas resetowania hasła"})}finally{d(!1)}};return p&&w?(0,a.jsxs)("div",{className:u().pageContainer,children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("div",{className:u().authContainer,children:(0,a.jsxs)("div",{className:u().authCard,children:[(0,a.jsx)("h2",{children:"Resetowanie hasła"}),(0,a.jsxs)("p",{children:["Wprowadź nowe hasło dla konta: ",w]}),h&&(0,a.jsx)("div",{className:"".concat(u().message," ").concat(u()[h.type]),children:h.text}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:u().form,children:[(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsx)("label",{htmlFor:"password",children:"Nowe hasło"}),(0,a.jsx)("input",{id:"password",type:"password",value:s,onChange:e=>t(e.target.value),required:!0,minLength:6,disabled:c})]}),(0,a.jsxs)("div",{className:u().formGroup,children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",children:"Potwierdź hasło"}),(0,a.jsx)("input",{id:"confirmPassword",type:"password",value:o,onChange:e=>l(e.target.value),required:!0,minLength:6,disabled:c})]}),(0,a.jsx)("button",{type:"submit",disabled:c,className:u().button,children:c?"Resetowanie...":"Zresetuj hasło"})]}),(0,a.jsx)("div",{className:u().authLinks,children:(0,a.jsx)("a",{href:"/login",children:"Wr\xf3ć do logowania"})})]})})]}):(0,a.jsxs)("div",{className:u().pageContainer,children:[(0,a.jsx)(i.Z,{}),(0,a.jsx)("div",{className:u().authContainer,children:(0,a.jsxs)("div",{className:u().authCard,children:[(0,a.jsx)("h2",{children:"Nieprawidłowy link"}),(0,a.jsx)("p",{children:"Link resetujący hasło jest nieprawidłowy lub wygasł."}),(0,a.jsx)("button",{onClick:()=>e.push("/login"),className:u().button,children:"Wr\xf3ć do logowania"})]})})]})}},4451:function(e){e.exports={form:"AuthForm_form__KcgsG",heading:"AuthForm_heading__U5OlU",error:"AuthForm_error__IUIY8",check:"AuthForm_check__BqkQV",submit:"AuthForm_submit__sB06C",links:"AuthForm_links__wP7jy",back:"AuthForm_back__2_C1u",oauthSetup:"AuthForm_oauthSetup__Dlwrc"}}},function(e){e.O(0,[424,68,372,774,888,179],function(){return e(e.s=1173)}),_N_E=e.O()}]);