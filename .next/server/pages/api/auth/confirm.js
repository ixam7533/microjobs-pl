"use strict";(()=>{var e={};e.id=3665,e.ids=[3665],e.modules={3524:e=>{e.exports=require("@prisma/client")},145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},2944:(e,r,a)=>{a.r(r),a.d(r,{config:()=>s,default:()=>l,routeModule:()=>c});var i={};a.r(i),a.d(i,{default:()=>handler});var n=a(1802),t=a(7153),d=a(6249),o=a(3524);let u=new o.PrismaClient;async function handler(e,r){let{token:a}=e.query;if("string"!=typeof a)return r.status(400).end();await u.user.updateMany({where:{confirmToken:a},data:{confirmed:!0,confirmToken:null}}),r.writeHead(302,{Location:"/login?confirmed=1"}),r.end()}let l=(0,d.l)(i,"default"),s=(0,d.l)(i,"config"),c=new n.PagesAPIRouteModule({definition:{kind:t.x.PAGES_API,page:"/api/auth/confirm",pathname:"/api/auth/confirm",bundlePath:"",filename:""},userland:i})}};var r=require("../../../webpack-api-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),a=r.X(0,[4222],()=>__webpack_exec__(2944));module.exports=a})();