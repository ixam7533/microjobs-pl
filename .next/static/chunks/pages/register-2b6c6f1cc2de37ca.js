(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{4722:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return o(6618)}])},238:function(e,t,o){"use strict";o.d(t,{Z:function(){return AuthLayout}});var a=o(5893),n=o(7294),s=o(4433),i=o.n(s);function AuthLayout(e){let{children:t}=e,[o,s]=(0,n.useState)("dark");return(0,n.useEffect)(()=>{let e=new MutationObserver(()=>{let e=document.documentElement.getAttribute("data-theme")||"dark";s(e)});e.observe(document.documentElement,{attributes:!0,attributeFilter:["data-theme"]});let t=document.documentElement.getAttribute("data-theme")||"dark";return s(t),()=>e.disconnect()},[]),(0,a.jsxs)("div",{className:i().wrapper,children:[(0,a.jsxs)("div",{className:i().overlay,children:[(()=>{switch(o){case"light":return(0,a.jsx)("div",{className:i().lightBackground});case"dark":default:return(0,a.jsx)("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:i().video,children:(0,a.jsx)("source",{src:"/smoke.mp4",type:"video/mp4"})});case"night":return(0,a.jsx)("div",{className:i().nightBackground})}})(),(0,a.jsx)("div",{className:i().tint})]}),(0,a.jsx)("div",{className:i().wave,children:(0,a.jsx)("svg",{viewBox:"0 0 1440 40",preserveAspectRatio:"none",children:(0,a.jsx)("path",{d:"M0,20 C120,40 240,0 360,20 C480,40 600,0 720,20 C840,40 960,0 1080,20 C1200,40 1320,0 1440,20 L1440,40 L0,40 Z",fill:"var(--color-bg)"})})}),(0,a.jsx)("div",{className:i().formContainer,children:t})]})}},4928:function(e,t,o){"use strict";o.d(t,{Z:function(){return SocialAuth}});var a=o(5893),n=o(3299),s=o(7294);let GoogleIcon=()=>(0,a.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",children:[(0,a.jsx)("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),(0,a.jsx)("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),(0,a.jsx)("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),(0,a.jsx)("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),FacebookIcon=()=>(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"#1877F2",children:(0,a.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})}),AppleIcon=()=>(0,a.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor",children:(0,a.jsx)("path",{d:"M17.05 20.28c-.98.95-2.05.8-3.08.35-1.09-.46-2.09-.48-3.24 0-1.44.62-2.2.44-3.06-.35C2.79 15.25 3.51 7.59 9.05 7.31c1.35.07 2.29.74 3.08.8 1.18-.24 2.31-.93 3.57-.84 1.51.12 2.65.72 3.4 1.8-3.12 1.87-2.38 5.98.48 7.13-.57 1.5-1.31 2.99-2.54 4.09l.01-.01zM12.03 7.25c-.15-2.23 1.66-4.07 3.74-4.25.29 2.58-2.34 4.5-3.74 4.25z"})});var i=o(7788),c=o.n(i);function SocialAuth(){let[e,t]=(0,s.useState)(null),[o,i]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let fetchProviders=async()=>{try{let e=await (0,n.getProviders)();t(e)}catch(e){console.error("Error fetching providers:",e)}finally{i(!1)}};fetchProviders()},[]);let handleDemoOAuth=e=>{showToast("\uD83D\uDE80 Demo OAuth ".concat(e),"Konfiguracja OAuth będzie dostępna w pełnej wersji aplikacji")},showToast=(e,t)=>{let o=document.createElement("div");o.className=c().toast,o.innerHTML='\n      <div class="'.concat(c().toastHeader,'">\n        <span>').concat(e,'</span>\n        <button onclick="this.parentElement.parentElement.remove()" class="').concat(c().toastClose,'">\xd7</button>\n      </div>\n      <div class="').concat(c().toastBody,'">').concat(t,"</div>\n    "),document.body.appendChild(o),setTimeout(()=>{o.parentElement&&o.remove()},5e3)};if(o)return(0,a.jsxs)("div",{className:c().socialAuth,children:[(0,a.jsx)("div",{className:c().divider,children:(0,a.jsx)("span",{children:"lub"})}),(0,a.jsxs)("div",{className:c().loadingContainer,children:[(0,a.jsx)("div",{className:c().loadingSpinner}),(0,a.jsx)("span",{children:"Ładowanie opcji logowania..."})]})]});let l=e&&Object.keys(e).length>0;return(0,a.jsxs)("div",{className:c().socialAuth,children:[(0,a.jsx)("div",{className:c().divider,children:(0,a.jsx)("span",{children:"lub zaloguj się przez"})}),(0,a.jsx)("div",{className:c().socialButtons,children:l?(0,a.jsxs)(a.Fragment,{children:[e.google&&(0,a.jsxs)("button",{onClick:()=>(0,n.signIn)("google",{callbackUrl:"/"}),className:"".concat(c().socialButton," ").concat(c().google),children:[(0,a.jsx)(GoogleIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Google"})]}),e.facebook&&(0,a.jsxs)("button",{onClick:()=>(0,n.signIn)("facebook",{callbackUrl:"/"}),className:"".concat(c().socialButton," ").concat(c().facebook),children:[(0,a.jsx)(FacebookIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Facebook"})]}),e.apple&&(navigator.platform.indexOf("Mac")>-1||navigator.platform.indexOf("iPhone")>-1||navigator.platform.indexOf("iPad")>-1)&&(0,a.jsxs)("button",{onClick:()=>(0,n.signIn)("apple",{callbackUrl:"/"}),className:"".concat(c().socialButton," ").concat(c().apple),children:[(0,a.jsx)(AppleIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Apple"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("button",{onClick:()=>handleDemoOAuth("Google"),className:"".concat(c().socialButton," ").concat(c().google," ").concat(c().demo),children:[(0,a.jsx)(GoogleIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Google"}),(0,a.jsx)("div",{className:c().shimmer})]}),(0,a.jsxs)("button",{onClick:()=>handleDemoOAuth("Facebook"),className:"".concat(c().socialButton," ").concat(c().facebook," ").concat(c().demo),children:[(0,a.jsx)(FacebookIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Facebook"}),(0,a.jsx)("div",{className:c().shimmer})]}),(0,a.jsxs)("button",{onClick:()=>handleDemoOAuth("Apple"),className:"".concat(c().socialButton," ").concat(c().apple," ").concat(c().demo),children:[(0,a.jsx)(AppleIcon,{}),(0,a.jsx)("span",{children:"Kontynuuj z Apple"}),(0,a.jsx)("div",{className:c().shimmer})]})]})}),!l&&(0,a.jsxs)("div",{className:c().demoNotice,children:[(0,a.jsx)("div",{className:c().demoIcon,children:"\uD83C\uDFA8"}),(0,a.jsxs)("div",{className:c().demoText,children:[(0,a.jsx)("strong",{children:"Demo wersja"}),(0,a.jsx)("span",{children:"Logowanie społecznościowe będzie dostępne w pełnej wersji"})]})]})]})}},6618:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return Register}});var a=o(5893),n=o(7294),s=o(1163),i=o(1664),c=o.n(i),l=o(238),r=o(4928),u=o(4451),d=o.n(u);function Register(){let[e,t]=(0,n.useState)(""),[o,i]=(0,n.useState)(""),[u,h]=(0,n.useState)(null),[_,m]=(0,n.useState)(null);(0,s.useRouter)();let onSubmit=async t=>{t.preventDefault(),h(null);let a=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:o})}),n=await a.json();a.ok?m(n.confirmLink):h(n.error||"Coś poszło nie tak.")};return _?(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:d().confirm,children:[(0,a.jsx)("p",{children:"Rejestracja powiodła się! Kliknij link poniżej, aby potwierdzić e-mail:"}),(0,a.jsx)("a",{href:_,children:_})]})}):(0,a.jsx)(l.Z,{children:(0,a.jsxs)("form",{onSubmit:onSubmit,className:d().form,children:[(0,a.jsx)("h2",{className:d().heading,children:"Rejestracja"}),u&&(0,a.jsx)("p",{className:d().error,children:u}),(0,a.jsx)("input",{type:"email",placeholder:"E-mail",value:e,onChange:e=>t(e.target.value),required:!0}),(0,a.jsx)("input",{type:"password",placeholder:"Hasło",value:o,onChange:e=>i(e.target.value),required:!0}),(0,a.jsx)("button",{type:"submit",className:d().submit,children:"Zarejestruj się"}),(0,a.jsx)(r.Z,{}),(0,a.jsx)(c(),{href:"/login",className:d().back,children:"← Masz już konto? Zaloguj się"}),(0,a.jsx)(c(),{href:"/",className:d().back,children:"← Strona gł\xf3wna"})]})})}},4433:function(e){e.exports={wrapper:"AuthLayout_wrapper__r8V98",overlay:"AuthLayout_overlay__olIu2",video:"AuthLayout_video__uFHnM",nightBackground:"AuthLayout_nightBackground__WUIZT",nightGradient:"AuthLayout_nightGradient__c_fIq",lightBackground:"AuthLayout_lightBackground__QOWR0",lightGradient:"AuthLayout_lightGradient__SSLpo",tint:"AuthLayout_tint__AuyDG",wave:"AuthLayout_wave__2a6oL",formContainer:"AuthLayout_formContainer__80IIm"}},7788:function(e){e.exports={socialAuth:"SocialAuth_socialAuth__ZHjyW",divider:"SocialAuth_divider__JP_ej",socialButtons:"SocialAuth_socialButtons__ed7UU",socialButton:"SocialAuth_socialButton__Ngr97",google:"SocialAuth_google__FXwO4",facebook:"SocialAuth_facebook__VJm0o",apple:"SocialAuth_apple__Fug7R",demo:"SocialAuth_demo__vaMji",shimmer:"SocialAuth_shimmer__j9edg",loadingContainer:"SocialAuth_loadingContainer__DMsr3",loadingSpinner:"SocialAuth_loadingSpinner__sX7c6",spin:"SocialAuth_spin__DuoJr",demoNotice:"SocialAuth_demoNotice___GIZE",demoIcon:"SocialAuth_demoIcon__M1h2E",demoText:"SocialAuth_demoText__jxeEN",toast:"SocialAuth_toast__tRy2_",toastSlideIn:"SocialAuth_toastSlideIn__ignPx",toastHeader:"SocialAuth_toastHeader__QNRIl",toastClose:"SocialAuth_toastClose__lQr_K",toastBody:"SocialAuth_toastBody__CTAXL"}},4451:function(e){e.exports={form:"AuthForm_form__KcgsG",heading:"AuthForm_heading__U5OlU",error:"AuthForm_error__IUIY8",check:"AuthForm_check__BqkQV",submit:"AuthForm_submit__sB06C",links:"AuthForm_links__wP7jy",back:"AuthForm_back__2_C1u",oauthSetup:"AuthForm_oauthSetup__Dlwrc"}}},function(e){e.O(0,[424,774,888,179],function(){return e(e.s=4722)}),_N_E=e.O()}]);