"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/offers/[id]";
exports.ids = ["pages/api/offers/[id]"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foffers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Foffers%2F%5Bid%5D.ts&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foffers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Foffers%2F%5Bid%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_offers_id_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/offers/[id].ts */ \"(api)/./pages/api/offers/[id].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_offers_id_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_offers_id_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/offers/[id]\",\n        pathname: \"/api/offers/[id]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_offers_id_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRm9mZmVycyUyRiU1QmlkJTVEJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlMkZhcGklMkZvZmZlcnMlMkYlNUJpZCU1RC50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUN1RDtBQUN2RDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsb0RBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLG9EQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCIsInNvdXJjZXMiOlsid2VicGFjazovLy8/NjM5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXMvYXBpL29mZmVycy9baWRdLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvb2ZmZXJzL1tpZF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vZmZlcnMvW2lkXVwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foffers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Foffers%2F%5Bid%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/jwt.ts":
/*!********************!*\
  !*** ./lib/jwt.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signToken: () => (/* binding */ signToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst JWT_SECRET = process.env.JWT_SECRET;\nif (!JWT_SECRET) throw new Error(\"JWT_SECRET is missing in environment variables\");\nfunction signToken(payload, expiresIn = \"7d\") {\n    const options = {\n        expiresIn: String(expiresIn)\n    };\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, options);\n}\nfunction verifyToken(token) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvand0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEI7QUFFOUIsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVO0FBQ3pDLElBQUksQ0FBQ0EsWUFBWSxNQUFNLElBQUlHLE1BQU07QUFFMUIsU0FBU0MsVUFBVUMsT0FBNEIsRUFBRUMsWUFBNkIsSUFBSTtJQUN2RixNQUFNQyxVQUFlO1FBQUVELFdBQVdFLE9BQU9GO0lBQVc7SUFDcEQsT0FBT1Asd0RBQVEsQ0FBQ00sU0FBU0wsWUFBc0JPO0FBQ2pEO0FBRU8sU0FBU0csWUFBWUMsS0FBYTtJQUN2QyxPQUFPWiwwREFBVSxDQUFDWSxPQUFPWDtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qd3QudHM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVRcbmlmICghSldUX1NFQ1JFVCkgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGlzIG1pc3NpbmcgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJylcblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Ub2tlbihwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBleHBpcmVzSW46IHN0cmluZyB8IG51bWJlciA9ICc3ZCcpIHtcbiAgY29uc3Qgb3B0aW9uczogYW55ID0geyBleHBpcmVzSW46IFN0cmluZyhleHBpcmVzSW4pIH1cbiAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIEpXVF9TRUNSRVQgYXMgc3RyaW5nLCBvcHRpb25zKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZykge1xuICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCBhcyBzdHJpbmcpXG59Il0sIm5hbWVzIjpbImp3dCIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJzaWduVG9rZW4iLCJwYXlsb2FkIiwiZXhwaXJlc0luIiwib3B0aW9ucyIsIlN0cmluZyIsInNpZ24iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwidmVyaWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/jwt.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxTQUFTLElBQUlELHdEQUFZQTtBQUMvQixpRUFBZUMsTUFBTUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXG5leHBvcnQgZGVmYXVsdCBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/offers/[id].ts":
/*!**********************************!*\
  !*** ./pages/api/offers/[id].ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lib/prisma */ \"(api)/./lib/prisma.ts\");\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../lib/jwt */ \"(api)/./lib/jwt.ts\");\n// pages/api/offers/[id].ts\n\n\nasync function handler(req, res) {\n    const id = parseInt(req.query.id, 10);\n    if (isNaN(id)) return res.status(400).json({\n        error: \"Invalid ID\"\n    });\n    if (req.method === \"GET\") {\n        const offer = await lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].offer.findUnique({\n            where: {\n                id\n            },\n            include: {\n                images: {\n                    orderBy: {\n                        id: \"asc\"\n                    } // pierwsze dodane zdjęcie jako pierwsze\n                }\n            }\n        });\n        if (!offer) return res.status(404).end();\n        // Dodaj images jako tablicę i image jako pierwsze zdjęcie dla kompatybilności\n        const offerWithImages = {\n            ...offer,\n            image: offer.images.length > 0 ? offer.images[0].url : \"/house4k.jpg\",\n            images: offer.images.map((img)=>img.url)\n        };\n        return res.status(200).json(offerWithImages);\n    }\n    if (req.method === \"PUT\") {\n        try {\n            // Sprawdź autoryzację\n            const token = req.cookies.token;\n            console.log(\"PUT /api/offers/[id] - Token from cookies:\", token ? `Present (length: ${token.length})` : \"Missing\");\n            console.log(\"PUT /api/offers/[id] - All cookies:\", req.cookies);\n            if (!token) {\n                return res.status(401).json({\n                    error: \"Token required\"\n                });\n            }\n            let decoded;\n            try {\n                decoded = (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_1__.verifyToken)(token);\n                console.log(\"PUT /api/offers/[id] - Token verification successful:\", {\n                    userId: decoded?.id,\n                    email: decoded?.email\n                });\n            } catch (tokenError) {\n                console.error(\"PUT /api/offers/[id] - Token verification failed:\", tokenError);\n                return res.status(401).json({\n                    error: \"Invalid token\",\n                    details: tokenError?.message || \"Token verification failed\"\n                });\n            }\n            if (!decoded || !decoded.id) {\n                return res.status(401).json({\n                    error: \"Invalid token - missing user id\"\n                });\n            }\n            // Sprawdź czy ogłoszenie istnieje i należy do użytkownika\n            const existingOffer = await lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].offer.findUnique({\n                where: {\n                    id\n                }\n            });\n            if (!existingOffer) {\n                return res.status(404).json({\n                    error: \"Offer not found\"\n                });\n            }\n            if (existingOffer.ownerId !== decoded.id) {\n                return res.status(403).json({\n                    error: \"You can only edit your own offers\"\n                });\n            }\n            // Aktualizuj ogłoszenie (bez kategorii - nie można jej zmieniać)\n            const { title, description, price, locationProvince, locationCity, locationDetails, location, contactName, contactEmail, contactPhone } = req.body;\n            const updatedOffer = await lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].offer.update({\n                where: {\n                    id\n                },\n                data: {\n                    title,\n                    description,\n                    price: parseFloat(price) || 0,\n                    // category jest celowo pominięta - nie można jej zmieniać\n                    location,\n                    contactName,\n                    contactEmail,\n                    contactPhone: contactPhone || null,\n                    updatedAt: new Date()\n                },\n                include: {\n                    images: {\n                        orderBy: {\n                            id: \"asc\"\n                        }\n                    }\n                }\n            });\n            return res.status(200).json({\n                ...updatedOffer,\n                image: updatedOffer.images.length > 0 ? updatedOffer.images[0].url : \"/house4k.jpg\",\n                images: updatedOffer.images.map((img)=>img.url)\n            });\n        } catch (error) {\n            console.error(\"Error updating offer:\", error);\n            return res.status(500).json({\n                error: \"Failed to update offer\"\n            });\n        }\n    }\n    if (req.method === \"DELETE\") {\n        try {\n            // Sprawdź autoryzację\n            const token = req.cookies.token;\n            if (!token) {\n                return res.status(401).json({\n                    error: \"Token required\"\n                });\n            }\n            const decoded = (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_1__.verifyToken)(token);\n            if (!decoded || !decoded.id) {\n                return res.status(401).json({\n                    error: \"Invalid token\"\n                });\n            }\n            // Sprawdź czy ogłoszenie istnieje i należy do użytkownika\n            const existingOffer = await lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].offer.findUnique({\n                where: {\n                    id\n                }\n            });\n            if (!existingOffer) {\n                return res.status(404).json({\n                    error: \"Offer not found\"\n                });\n            }\n            if (existingOffer.ownerId !== decoded.id) {\n                return res.status(403).json({\n                    error: \"You can only delete your own offers\"\n                });\n            }\n            // Usuń ogłoszenie (cascade usunie powiązane tabele)\n            await lib_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].offer.delete({\n                where: {\n                    id\n                }\n            });\n            return res.status(200).json({\n                success: true\n            });\n        } catch (error) {\n            console.error(\"Error deleting offer:\", error);\n            return res.status(500).json({\n                error: \"Failed to delete offer\"\n            });\n        }\n    }\n    res.setHeader(\"Allow\", [\n        \"GET\",\n        \"PUT\",\n        \"DELETE\"\n    ]);\n    return res.status(405).end();\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZF0udHM/OWRlNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBwYWdlcy9hcGkvb2ZmZXJzL1tpZF0udHNcbmltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnXG5pbXBvcnQgcHJpc21hIGZyb20gJ2xpYi9wcmlzbWEnXG5pbXBvcnQgeyB2ZXJpZnlUb2tlbiB9IGZyb20gJy4uLy4uLy4uL2xpYi9qd3QnXG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIoXG4gIHJlcTogTmV4dEFwaVJlcXVlc3QsXG4gIHJlczogTmV4dEFwaVJlc3BvbnNlXG4pIHtcbiAgY29uc3QgaWQgPSBwYXJzZUludChyZXEucXVlcnkuaWQgYXMgc3RyaW5nLCAxMClcbiAgaWYgKGlzTmFOKGlkKSkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIElEJyB9KVxuXG4gIGlmIChyZXEubWV0aG9kID09PSAnR0VUJykge1xuICAgIGNvbnN0IG9mZmVyID0gYXdhaXQgcHJpc21hLm9mZmVyLmZpbmRVbmlxdWUoeyBcbiAgICAgIHdoZXJlOiB7IGlkIH0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGltYWdlczoge1xuICAgICAgICAgIG9yZGVyQnk6IHsgaWQ6ICdhc2MnIH0gLy8gcGllcndzemUgZG9kYW5lIHpkasSZY2llIGpha28gcGllcndzemVcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgXG4gICAgaWYgKCFvZmZlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5lbmQoKVxuICAgIFxuICAgIC8vIERvZGFqIGltYWdlcyBqYWtvIHRhYmxpY8SZIGkgaW1hZ2UgamFrbyBwaWVyd3N6ZSB6ZGrEmWNpZSBkbGEga29tcGF0eWJpbG5vxZtjaVxuICAgIGNvbnN0IG9mZmVyV2l0aEltYWdlcyA9IHtcbiAgICAgIC4uLm9mZmVyLFxuICAgICAgaW1hZ2U6IG9mZmVyLmltYWdlcy5sZW5ndGggPiAwID8gb2ZmZXIuaW1hZ2VzWzBdLnVybCA6ICcvaG91c2U0ay5qcGcnLFxuICAgICAgaW1hZ2VzOiBvZmZlci5pbWFnZXMubWFwKGltZyA9PiBpbWcudXJsKVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24ob2ZmZXJXaXRoSW1hZ2VzKVxuICB9XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdQVVQnKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNwcmF3ZMW6IGF1dG9yeXphY2rEmVxuICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50b2tlblxuICAgICAgY29uc29sZS5sb2coJ1BVVCAvYXBpL29mZmVycy9baWRdIC0gVG9rZW4gZnJvbSBjb29raWVzOicsIHRva2VuID8gYFByZXNlbnQgKGxlbmd0aDogJHt0b2tlbi5sZW5ndGh9KWAgOiAnTWlzc2luZycpXG4gICAgICBjb25zb2xlLmxvZygnUFVUIC9hcGkvb2ZmZXJzL1tpZF0gLSBBbGwgY29va2llczonLCByZXEuY29va2llcylcbiAgICAgIFxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1Rva2VuIHJlcXVpcmVkJyB9KVxuICAgICAgfVxuXG4gICAgICBsZXQgZGVjb2RlZFxuICAgICAgdHJ5IHtcbiAgICAgICAgZGVjb2RlZCA9IHZlcmlmeVRva2VuKHRva2VuKSBhcyBhbnlcbiAgICAgICAgY29uc29sZS5sb2coJ1BVVCAvYXBpL29mZmVycy9baWRdIC0gVG9rZW4gdmVyaWZpY2F0aW9uIHN1Y2Nlc3NmdWw6JywgeyB1c2VySWQ6IGRlY29kZWQ/LmlkLCBlbWFpbDogZGVjb2RlZD8uZW1haWwgfSlcbiAgICAgIH0gY2F0Y2ggKHRva2VuRXJyb3I6IGFueSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdQVVQgL2FwaS9vZmZlcnMvW2lkXSAtIFRva2VuIHZlcmlmaWNhdGlvbiBmYWlsZWQ6JywgdG9rZW5FcnJvcilcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJywgZGV0YWlsczogdG9rZW5FcnJvcj8ubWVzc2FnZSB8fCAnVG9rZW4gdmVyaWZpY2F0aW9uIGZhaWxlZCcgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFkZWNvZGVkIHx8ICFkZWNvZGVkLmlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbiAtIG1pc3NpbmcgdXNlciBpZCcgfSlcbiAgICAgIH1cblxuICAgICAgLy8gU3ByYXdkxbogY3p5IG9nxYJvc3plbmllIGlzdG5pZWplIGkgbmFsZcW8eSBkbyB1xbx5dGtvd25pa2FcbiAgICAgIGNvbnN0IGV4aXN0aW5nT2ZmZXIgPSBhd2FpdCBwcmlzbWEub2ZmZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmICghZXhpc3RpbmdPZmZlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ09mZmVyIG5vdCBmb3VuZCcgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGV4aXN0aW5nT2ZmZXIub3duZXJJZCAhPT0gZGVjb2RlZC5pZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ1lvdSBjYW4gb25seSBlZGl0IHlvdXIgb3duIG9mZmVycycgfSlcbiAgICAgIH1cblxuICAgICAgLy8gQWt0dWFsaXp1aiBvZ8WCb3N6ZW5pZSAoYmV6IGthdGVnb3JpaSAtIG5pZSBtb8W8bmEgamVqIHptaWVuaWHEhylcbiAgICAgIGNvbnN0IHtcbiAgICAgICAgdGl0bGUsXG4gICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICBwcmljZSxcbiAgICAgICAgbG9jYXRpb25Qcm92aW5jZSxcbiAgICAgICAgbG9jYXRpb25DaXR5LFxuICAgICAgICBsb2NhdGlvbkRldGFpbHMsXG4gICAgICAgIGxvY2F0aW9uLFxuICAgICAgICBjb250YWN0TmFtZSxcbiAgICAgICAgY29udGFjdEVtYWlsLFxuICAgICAgICBjb250YWN0UGhvbmVcbiAgICAgIH0gPSByZXEuYm9keVxuXG4gICAgICBjb25zdCB1cGRhdGVkT2ZmZXIgPSBhd2FpdCBwcmlzbWEub2ZmZXIudXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgIGRlc2NyaXB0aW9uLFxuICAgICAgICAgIHByaWNlOiBwYXJzZUZsb2F0KHByaWNlKSB8fCAwLFxuICAgICAgICAgIC8vIGNhdGVnb3J5IGplc3QgY2Vsb3dvIHBvbWluacSZdGEgLSBuaWUgbW/FvG5hIGplaiB6bWllbmlhxIdcbiAgICAgICAgICBsb2NhdGlvbixcbiAgICAgICAgICBjb250YWN0TmFtZSxcbiAgICAgICAgICBjb250YWN0RW1haWwsXG4gICAgICAgICAgY29udGFjdFBob25lOiBjb250YWN0UGhvbmUgfHwgbnVsbCxcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGltYWdlczoge1xuICAgICAgICAgICAgb3JkZXJCeTogeyBpZDogJ2FzYycgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgLi4udXBkYXRlZE9mZmVyLFxuICAgICAgICBpbWFnZTogdXBkYXRlZE9mZmVyLmltYWdlcy5sZW5ndGggPiAwID8gdXBkYXRlZE9mZmVyLmltYWdlc1swXS51cmwgOiAnL2hvdXNlNGsuanBnJyxcbiAgICAgICAgaW1hZ2VzOiB1cGRhdGVkT2ZmZXIuaW1hZ2VzLm1hcChpbWcgPT4gaW1nLnVybClcbiAgICAgIH0pXG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgb2ZmZXI6JywgZXJyb3IpXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ZhaWxlZCB0byB1cGRhdGUgb2ZmZXInIH0pXG4gICAgfVxuICB9XG5cbiAgaWYgKHJlcS5tZXRob2QgPT09ICdERUxFVEUnKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFNwcmF3ZMW6IGF1dG9yeXphY2rEmVxuICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50b2tlblxuICAgICAgaWYgKCF0b2tlbikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogJ1Rva2VuIHJlcXVpcmVkJyB9KVxuICAgICAgfVxuXG4gICAgICBjb25zdCBkZWNvZGVkID0gdmVyaWZ5VG9rZW4odG9rZW4pIGFzIGFueVxuICAgICAgaWYgKCFkZWNvZGVkIHx8ICFkZWNvZGVkLmlkKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnSW52YWxpZCB0b2tlbicgfSlcbiAgICAgIH1cblxuICAgICAgLy8gU3ByYXdkxbogY3p5IG9nxYJvc3plbmllIGlzdG5pZWplIGkgbmFsZcW8eSBkbyB1xbx5dGtvd25pa2FcbiAgICAgIGNvbnN0IGV4aXN0aW5nT2ZmZXIgPSBhd2FpdCBwcmlzbWEub2ZmZXIuZmluZFVuaXF1ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkIH1cbiAgICAgIH0pXG5cbiAgICAgIGlmICghZXhpc3RpbmdPZmZlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oeyBlcnJvcjogJ09mZmVyIG5vdCBmb3VuZCcgfSlcbiAgICAgIH1cblxuICAgICAgaWYgKGV4aXN0aW5nT2ZmZXIub3duZXJJZCAhPT0gZGVjb2RlZC5pZCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oeyBlcnJvcjogJ1lvdSBjYW4gb25seSBkZWxldGUgeW91ciBvd24gb2ZmZXJzJyB9KVxuICAgICAgfVxuXG4gICAgICAvLyBVc3XFhCBvZ8WCb3N6ZW5pZSAoY2FzY2FkZSB1c3VuaWUgcG93acSFemFuZSB0YWJlbGUpXG4gICAgICBhd2FpdCBwcmlzbWEub2ZmZXIuZGVsZXRlKHtcbiAgICAgICAgd2hlcmU6IHsgaWQgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIG9mZmVyOicsIGVycm9yKVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIG9mZmVyJyB9KVxuICAgIH1cbiAgfVxuXG4gIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydHRVQnLCAnUFVUJywgJ0RFTEVURSddKVxuICByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmVuZCgpXG59XG4iXSwibmFtZXMiOlsicHJpc21hIiwidmVyaWZ5VG9rZW4iLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiaWQiLCJwYXJzZUludCIsInF1ZXJ5IiwiaXNOYU4iLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJtZXRob2QiLCJvZmZlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImluY2x1ZGUiLCJpbWFnZXMiLCJvcmRlckJ5IiwiZW5kIiwib2ZmZXJXaXRoSW1hZ2VzIiwiaW1hZ2UiLCJsZW5ndGgiLCJ1cmwiLCJtYXAiLCJpbWciLCJ0b2tlbiIsImNvb2tpZXMiLCJjb25zb2xlIiwibG9nIiwiZGVjb2RlZCIsInVzZXJJZCIsImVtYWlsIiwidG9rZW5FcnJvciIsImRldGFpbHMiLCJtZXNzYWdlIiwiZXhpc3RpbmdPZmZlciIsIm93bmVySWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwicHJpY2UiLCJsb2NhdGlvblByb3ZpbmNlIiwibG9jYXRpb25DaXR5IiwibG9jYXRpb25EZXRhaWxzIiwibG9jYXRpb24iLCJjb250YWN0TmFtZSIsImNvbnRhY3RFbWFpbCIsImNvbnRhY3RQaG9uZSIsImJvZHkiLCJ1cGRhdGVkT2ZmZXIiLCJ1cGRhdGUiLCJkYXRhIiwicGFyc2VGbG9hdCIsInVwZGF0ZWRBdCIsIkRhdGUiLCJkZWxldGUiLCJzdWNjZXNzIiwic2V0SGVhZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/offers/[id].ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Foffers%2F%5Bid%5D&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Foffers%2F%5Bid%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();