(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[525],{8826:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/offer/[id]",function(){return s(8038)}])},8038:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return OfferPage}});var r=s(5893),a=s(1163),i=s(7294),o=s(1372),t=s(2682),f=s(2094),c=s.n(f);function OfferPage(){let e=(0,a.useRouter)(),{id:n}=e.query,[s,f]=(0,i.useState)(null),[l,d]=(0,i.useState)(!0),[u,_]=(0,i.useState)(null);return((0,i.useEffect)(()=>{if(!n)return;let fetchOffer=async()=>{try{d(!0),fetch("/api/offers/view",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({offerId:parseInt(n)})}).catch(e=>console.error("Błąd podczas zwiększania wyświetleń:",e));let e=await fetch("/api/offers/".concat(n));if(!e.ok){404===e.status?_("Ogłoszenie nie zostało znalezione"):_("Wystąpił błąd podczas pobierania ogłoszenia");return}let s=await e.json();f(s)}catch(e){console.error("Error fetching offer:",e),_("Wystąpił błąd podczas pobierania ogłoszenia")}finally{d(!1)}};fetchOffer()},[n]),l)?(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:c().loading,children:[(0,r.jsx)("div",{className:c().spinner}),(0,r.jsx)("p",{children:"Ładowanie ogłoszenia..."})]})]}):u?(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(o.Z,{}),(0,r.jsxs)("div",{className:c().error,children:[(0,r.jsx)("h2",{children:"❌ Błąd"}),(0,r.jsx)("p",{children:u}),(0,r.jsx)("button",{onClick:()=>e.push("/"),className:c().backButton,children:"Powr\xf3t do strony gł\xf3wnej"})]})]}):(0,r.jsxs)("div",{className:c().container,children:[(0,r.jsx)(o.Z,{}),(0,r.jsx)(t.Z,{offer:s,isOpen:!0,onClose:()=>{e.push("/")}})]})}},2094:function(e){e.exports={container:"OfferPage_container__DAAps",loading:"OfferPage_loading__7qjYG",spinner:"OfferPage_spinner__lSYUY",spin:"OfferPage_spin__jnxH_",error:"OfferPage_error__o5lAN",backButton:"OfferPage_backButton__8SMHR"}}},function(e){e.O(0,[424,68,372,343,774,888,179],function(){return e(e.s=8826)}),_N_E=e.O()}]);