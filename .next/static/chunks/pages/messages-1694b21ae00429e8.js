(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[313],{4755:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/messages",function(){return s(5113)}])},5113:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return Messages}});var t=s(5893),i=s(7294);function Messages(){let[e,n]=(0,i.useState)([]),[s,a]=(0,i.useState)(""),[c,o]=(0,i.useState)("");async function send(){await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({receiverId:c,content:s})}),a("");let e=await fetch("/api/messages").then(e=>e.json());n(e)}return(0,i.useEffect)(()=>{fetch("/api/messages").then(e=>e.json()).then(n)},[]),(0,t.jsxs)("div",{style:{padding:"2rem"},children:[(0,t.jsx)("h2",{children:"Wiadomości"}),(0,t.jsx)("ul",{children:e.map(e=>(0,t.jsxs)("li",{children:["Od: ",e.sender.email," – ",e.content]},e.id))}),(0,t.jsxs)("div",{children:[(0,t.jsx)("select",{onChange:e=>o(e.target.value),children:(0,t.jsx)("option",{value:"",children:"Wybierz odbiorcę"})}),(0,t.jsx)("textarea",{value:s,onChange:e=>a(e.target.value),placeholder:"Twoja wiadomość..."}),(0,t.jsx)("button",{onClick:send,children:"Wyślij"})]})]})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=4755)}),_N_E=e.O()}]);