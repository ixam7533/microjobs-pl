"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/my-offers";
exports.ids = ["pages/api/auth/my-offers"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next-auth/jwt":
/*!********************************!*\
  !*** external "next-auth/jwt" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("next-auth/jwt");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fmy-offers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fmy-offers.ts&middlewareConfigBase64=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fmy-offers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fmy-offers.ts&middlewareConfigBase64=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_my_offers_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/auth/my-offers.ts */ \"(api)/./pages/api/auth/my-offers.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_my_offers_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_my_offers_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/my-offers\",\n        pathname: \"/api/auth/my-offers\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_my_offers_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkZteS1vZmZlcnMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyUyRmFwaSUyRmF1dGglMkZteS1vZmZlcnMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDMEQ7QUFDMUQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLHlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyx5REFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vP2U4ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzL2FwaS9hdXRoL215LW9mZmVycy50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2F1dGgvbXktb2ZmZXJzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYXV0aC9teS1vZmZlcnNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fmy-offers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fmy-offers.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/jwt.ts":
/*!********************!*\
  !*** ./lib/jwt.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   signToken: () => (/* binding */ signToken),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst JWT_SECRET = process.env.JWT_SECRET;\nif (!JWT_SECRET) throw new Error(\"JWT_SECRET is missing in environment variables\");\nfunction signToken(payload, expiresIn = \"7d\") {\n    const options = {\n        expiresIn: String(expiresIn)\n    };\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().sign(payload, JWT_SECRET, options);\n}\nfunction verifyToken(token) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, JWT_SECRET);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvand0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBOEI7QUFFOUIsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVO0FBQ3pDLElBQUksQ0FBQ0EsWUFBWSxNQUFNLElBQUlHLE1BQU07QUFFMUIsU0FBU0MsVUFBVUMsT0FBNEIsRUFBRUMsWUFBNkIsSUFBSTtJQUN2RixNQUFNQyxVQUFlO1FBQUVELFdBQVdFLE9BQU9GO0lBQVc7SUFDcEQsT0FBT1Asd0RBQVEsQ0FBQ00sU0FBU0wsWUFBc0JPO0FBQ2pEO0FBRU8sU0FBU0csWUFBWUMsS0FBYTtJQUN2QyxPQUFPWiwwREFBVSxDQUFDWSxPQUFPWDtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9qd3QudHM/ZWEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gJ2pzb253ZWJ0b2tlbidcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVRcbmlmICghSldUX1NFQ1JFVCkgdGhyb3cgbmV3IEVycm9yKCdKV1RfU0VDUkVUIGlzIG1pc3NpbmcgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzJylcblxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25Ub2tlbihwYXlsb2FkOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBleHBpcmVzSW46IHN0cmluZyB8IG51bWJlciA9ICc3ZCcpIHtcbiAgY29uc3Qgb3B0aW9uczogYW55ID0geyBleHBpcmVzSW46IFN0cmluZyhleHBpcmVzSW4pIH1cbiAgcmV0dXJuIGp3dC5zaWduKHBheWxvYWQsIEpXVF9TRUNSRVQgYXMgc3RyaW5nLCBvcHRpb25zKVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZykge1xuICByZXR1cm4gand0LnZlcmlmeSh0b2tlbiwgSldUX1NFQ1JFVCBhcyBzdHJpbmcpXG59Il0sIm5hbWVzIjpbImp3dCIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJzaWduVG9rZW4iLCJwYXlsb2FkIiwiZXhwaXJlc0luIiwib3B0aW9ucyIsIlN0cmluZyIsInNpZ24iLCJ2ZXJpZnlUb2tlbiIsInRva2VuIiwidmVyaWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./lib/jwt.ts\n");

/***/ }),

/***/ "(api)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE2QztBQUU3QyxNQUFNQyxTQUFTLElBQUlELHdEQUFZQTtBQUMvQixpRUFBZUMsTUFBTUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2xpYi9wcmlzbWEudHM/OTgyMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcblxuY29uc3QgcHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpXG5leHBvcnQgZGVmYXVsdCBwcmlzbWFcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/prisma.ts\n");

/***/ }),

/***/ "(api)/./pages/api/auth/my-offers.ts":
/*!*************************************!*\
  !*** ./pages/api/auth/my-offers.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_jwt__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/jwt */ \"(api)/./lib/jwt.ts\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/jwt */ \"next-auth/jwt\");\n/* harmony import */ var next_auth_jwt__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../lib/prisma */ \"(api)/./lib/prisma.ts\");\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"GET\") {\n        res.setHeader(\"Allow\", [\n            \"GET\"\n        ]);\n        return res.status(405).end();\n    }\n    try {\n        let userId = null;\n        // Sprawdź NextAuth token (logowanie społecznościowe)\n        const nextAuthToken = await (0,next_auth_jwt__WEBPACK_IMPORTED_MODULE_1__.getToken)({\n            req,\n            secret: process.env.NEXTAUTH_SECRET\n        });\n        if (nextAuthToken && nextAuthToken.email) {\n            const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].user.findUnique({\n                where: {\n                    email: nextAuthToken.email\n                },\n                select: {\n                    id: true\n                }\n            });\n            if (user) {\n                userId = user.id;\n            }\n        }\n        // Jeśli nie ma NextAuth token, sprawdź własny JWT token\n        if (!userId) {\n            const authToken = req.cookies.token;\n            if (!authToken) {\n                return res.status(401).json({\n                    error: \"Not authenticated\"\n                });\n            }\n            const payload = (0,_lib_jwt__WEBPACK_IMPORTED_MODULE_0__.verifyToken)(authToken);\n            if (!payload || typeof payload === \"string\" || !payload.id) {\n                return res.status(401).json({\n                    error: \"Invalid token\"\n                });\n            }\n            userId = payload.id;\n        }\n        if (!userId) {\n            return res.status(401).json({\n                error: \"User not found\"\n            });\n        }\n        // Automatycznie wyczyść wygasłe promocje\n        const now = new Date();\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].offer.updateMany({\n            where: {\n                promoted: true,\n                promotedUntil: {\n                    lt: now\n                }\n            },\n            data: {\n                promoted: false,\n                promotedUntil: null\n            }\n        });\n        // Pobierz ogłoszenia użytkownika\n        const offers = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__[\"default\"].offer.findMany({\n            where: {\n                ownerId: userId\n            },\n            orderBy: [\n                {\n                    promoted: \"desc\"\n                },\n                {\n                    createdAt: \"desc\"\n                }\n            ],\n            include: {\n                images: {\n                    orderBy: {\n                        id: \"asc\"\n                    }\n                },\n                owner: {\n                    select: {\n                        id: true,\n                        email: true,\n                        name: true\n                    }\n                }\n            }\n        });\n        // Mapuj oferety z obrazami i statusem promocji\n        const offersWithImages = offers.map((offer)=>({\n                ...offer,\n                ownerEmail: offer.owner.email,\n                ownerName: offer.owner.name,\n                image: offer.images.length > 0 ? offer.images[0].url : \"/house4k.jpg\",\n                images: offer.images.map((img)=>img.url),\n                isPromoted: offer.promoted && offer.promotedUntil && offer.promotedUntil > now\n            }));\n        return res.status(200).json({\n            offers: offersWithImages\n        });\n    } catch (error) {\n        console.error(\"My offers API error:\", error);\n        return res.status(500).json({\n            error: \"Internal server error\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFBQSxNQUFPQSxJQUFJRCxHQUFHO2dCQUN2Q0UsWUFBWXZCLE1BQU1FLFFBQVEsSUFBSUYsTUFBTUcsYUFBYSxJQUFJSCxNQUFNRyxhQUFhLEdBQUdMO1lBQzdFO1FBRUEsT0FBT3ZCLElBQUlHLE1BQU0sQ0FBQyxLQUFLaUIsSUFBSSxDQUFDO1lBQUVXLFFBQVFTO1FBQWlCO0lBRXpELEVBQUUsT0FBT25CLE9BQU87UUFDZDRCLFFBQVE1QixLQUFLLENBQUMsd0JBQXdCQTtRQUN0QyxPQUFPckIsSUFBSUcsTUFBTSxDQUFDLEtBQUtpQixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUF3QjtJQUMvRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vcGFnZXMvYXBpL2F1dGgvbXktb2ZmZXJzLnRzPzQzNzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSAnbmV4dCdcbmltcG9ydCB7IHZlcmlmeVRva2VuIH0gZnJvbSAnLi4vLi4vLi4vbGliL2p3dCdcbmltcG9ydCB7IGdldFRva2VuIH0gZnJvbSAnbmV4dC1hdXRoL2p3dCdcbmltcG9ydCBwcmlzbWEgZnJvbSAnLi4vLi4vLi4vbGliL3ByaXNtYSdcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICByZXMuc2V0SGVhZGVyKCdBbGxvdycsIFsnR0VUJ10pXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA1KS5lbmQoKVxuICB9XG5cbiAgdHJ5IHtcbiAgICBsZXQgdXNlcklkOiBudW1iZXIgfCBudWxsID0gbnVsbFxuXG4gICAgLy8gU3ByYXdkxbogTmV4dEF1dGggdG9rZW4gKGxvZ293YW5pZSBzcG/FgmVjem5vxZtjaW93ZSlcbiAgICBjb25zdCBuZXh0QXV0aFRva2VuID0gYXdhaXQgZ2V0VG9rZW4oeyBcbiAgICAgIHJlcSxcbiAgICAgIHNlY3JldDogcHJvY2Vzcy5lbnYuTkVYVEFVVEhfU0VDUkVUIFxuICAgIH0pXG4gICAgaWYgKG5leHRBdXRoVG9rZW4gJiYgbmV4dEF1dGhUb2tlbi5lbWFpbCkge1xuICAgICAgY29uc3QgdXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgICB3aGVyZTogeyBlbWFpbDogbmV4dEF1dGhUb2tlbi5lbWFpbCB9LFxuICAgICAgICBzZWxlY3Q6IHsgaWQ6IHRydWUgfVxuICAgICAgfSlcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHVzZXJJZCA9IHVzZXIuaWRcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBKZcWbbGkgbmllIG1hIE5leHRBdXRoIHRva2VuLCBzcHJhd2TFuiB3xYJhc255IEpXVCB0b2tlblxuICAgIGlmICghdXNlcklkKSB7XG4gICAgICBjb25zdCBhdXRoVG9rZW4gPSByZXEuY29va2llcy50b2tlblxuICAgICAgaWYgKCFhdXRoVG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdOb3QgYXV0aGVudGljYXRlZCcgfSlcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGF5bG9hZCA9IHZlcmlmeVRva2VuKGF1dGhUb2tlbilcbiAgICAgIGlmICghcGF5bG9hZCB8fCB0eXBlb2YgcGF5bG9hZCA9PT0gJ3N0cmluZycgfHwgIXBheWxvYWQuaWQpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdJbnZhbGlkIHRva2VuJyB9KVxuICAgICAgfVxuXG4gICAgICB1c2VySWQgPSBwYXlsb2FkLmlkXG4gICAgfVxuXG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7IGVycm9yOiAnVXNlciBub3QgZm91bmQnIH0pXG4gICAgfVxuXG4gICAgLy8gQXV0b21hdHljem5pZSB3eWN6ecWbxIcgd3lnYXPFgmUgcHJvbW9jamVcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXG4gICAgYXdhaXQgcHJpc21hLm9mZmVyLnVwZGF0ZU1hbnkoe1xuICAgICAgd2hlcmU6IHtcbiAgICAgICAgcHJvbW90ZWQ6IHRydWUsXG4gICAgICAgIHByb21vdGVkVW50aWw6IHtcbiAgICAgICAgICBsdDogbm93XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHByb21vdGVkOiBmYWxzZSxcbiAgICAgICAgcHJvbW90ZWRVbnRpbDogbnVsbFxuICAgICAgfVxuICAgIH0pXG5cbiAgICAvLyBQb2JpZXJ6IG9nxYJvc3plbmlhIHXFvHl0a293bmlrYVxuICAgIGNvbnN0IG9mZmVycyA9IGF3YWl0IHByaXNtYS5vZmZlci5maW5kTWFueSh7XG4gICAgICB3aGVyZToge1xuICAgICAgICBvd25lcklkOiB1c2VySWRcbiAgICAgIH0sXG4gICAgICBvcmRlckJ5OiBbXG4gICAgICAgIHsgcHJvbW90ZWQ6ICdkZXNjJyB9LFxuICAgICAgICB7IGNyZWF0ZWRBdDogJ2Rlc2MnIH1cbiAgICAgIF0sXG4gICAgICBpbmNsdWRlOiB7XG4gICAgICAgIGltYWdlczoge1xuICAgICAgICAgIG9yZGVyQnk6IHsgaWQ6ICdhc2MnIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3duZXI6IHtcbiAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgIGlkOiB0cnVlLFxuICAgICAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICAgIC8vIE1hcHVqIG9mZXJldHkgeiBvYnJhemFtaSBpIHN0YXR1c2VtIHByb21vY2ppXG4gICAgY29uc3Qgb2ZmZXJzV2l0aEltYWdlcyA9IG9mZmVycy5tYXAob2ZmZXIgPT4gKHtcbiAgICAgIC4uLm9mZmVyLFxuICAgICAgb3duZXJFbWFpbDogb2ZmZXIub3duZXIuZW1haWwsXG4gICAgICBvd25lck5hbWU6IG9mZmVyLm93bmVyLm5hbWUsXG4gICAgICBpbWFnZTogb2ZmZXIuaW1hZ2VzLmxlbmd0aCA+IDAgPyBvZmZlci5pbWFnZXNbMF0udXJsIDogJy9ob3VzZTRrLmpwZycsXG4gICAgICBpbWFnZXM6IG9mZmVyLmltYWdlcy5tYXAoaW1nID0+IGltZy51cmwpLFxuICAgICAgaXNQcm9tb3RlZDogb2ZmZXIucHJvbW90ZWQgJiYgb2ZmZXIucHJvbW90ZWRVbnRpbCAmJiBvZmZlci5wcm9tb3RlZFVudGlsID4gbm93XG4gICAgfSkpXG5cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBvZmZlcnM6IG9mZmVyc1dpdGhJbWFnZXMgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ015IG9mZmVycyBBUEkgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ2ZXJpZnlUb2tlbiIsImdldFRva2VuIiwicHJpc21hIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInNldEhlYWRlciIsInN0YXR1cyIsImVuZCIsInVzZXJJZCIsIm5leHRBdXRoVG9rZW4iLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVEFVVEhfU0VDUkVUIiwiZW1haWwiLCJ1c2VyIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwic2VsZWN0IiwiaWQiLCJhdXRoVG9rZW4iLCJjb29raWVzIiwidG9rZW4iLCJqc29uIiwiZXJyb3IiLCJwYXlsb2FkIiwibm93IiwiRGF0ZSIsIm9mZmVyIiwidXBkYXRlTWFueSIsInByb21vdGVkIiwicHJvbW90ZWRVbnRpbCIsImx0IiwiZGF0YSIsIm9mZmVycyIsImZpbmRNYW55Iiwib3duZXJJZCIsIm9yZGVyQnkiLCJjcmVhdGVkQXQiLCJpbmNsdWRlIiwiaW1hZ2VzIiwib3duZXIiLCJuYW1lIiwib2ZmZXJzV2l0aEltYWdlcyIsIm1hcCIsIm93bmVyRW1haWwiLCJvd25lck5hbWUiLCJpbWFnZSIsImxlbmd0aCIsInVybCIsImltZyIsImlzUHJvbW90ZWQiLCJjb25zb2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/my-offers.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2Fmy-offers&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fauth%2Fmy-offers.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();